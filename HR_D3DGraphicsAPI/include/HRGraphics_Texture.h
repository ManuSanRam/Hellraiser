#pragma once

/*!************************************************************************************************************************************************************************
***************************************************************************************************************************************************************************/

#include "HRGraphics_Prerequisites.h"

#include <HRUtility_Color.h>

namespace HR_SDK
{
	/*!********************************************************************************************************************************************************************
	***********************************************************************************************************************************************************************/
	struct GraphicsDevice;
	/*!********************************************************************************************************************************************************************
	***********************************************************************************************************************************************************************/
	struct GraphicsDeviceContext;
	/*!********************************************************************************************************************************************************************
	***********************************************************************************************************************************************************************/
	struct GraphicsSwapChain;
	/*!********************************************************************************************************************************************************************
	***********************************************************************************************************************************************************************/
	struct GraphicsTexture;
	/*!********************************************************************************************************************************************************************
	***********************************************************************************************************************************************************************/
	struct GraphicsRenderTargetView;
	/*!********************************************************************************************************************************************************************
	***********************************************************************************************************************************************************************/
	struct GraphicsShaderResourceView;
	/*!********************************************************************************************************************************************************************
	***********************************************************************************************************************************************************************/
	struct GraphicsDepthStencilView;

	/*!********************************************************************************************************************************************************************
	***********************************************************************************************************************************************************************/
	class HR_D3DGRAPHICSAPI_EXPORT C_Texture
	{
	public:
		/*!****************************************************************************************************************************************************************
		*******************************************************************************************************************************************************************/
		C_Texture()
		{
			m_Texture = NULL;
			m_RTV = NULL;
		}
		/*!****************************************************************************************************************************************************************
		*******************************************************************************************************************************************************************/
		~C_Texture()
		{

		}

		/*!****************************************************************************************************************************************************************
		*******************************************************************************************************************************************************************/
		bool						CreateFromFile
		(
			const String&			prm_FileName,
			GraphicsDevice*			prm_Device,
			GraphicsDeviceContext*	prm_DC
		);
		/*!****************************************************************************************************************************************************************
		*******************************************************************************************************************************************************************/
		bool						CreateAsRTV(GraphicsDevice* prm_Device, GraphicsSwapChain* prm_SC);

		void						SetRTV(GraphicsDeviceContext* prm_DC, uint32 prm_NumViews, GraphicsDepthStencilView* prm_DSV);

		void						ClearRTV(GraphicsDeviceContext* prm_DC, C_LinearColor prm_Color);

		/*!****************************************************************************************************************************************************************
		*******************************************************************************************************************************************************************/
		void						Close();

	public:
		/*!****************************************************************************************************************************************************************
		*******************************************************************************************************************************************************************/
		GraphicsTexture*				m_Texture;
		/*!****************************************************************************************************************************************************************
		*******************************************************************************************************************************************************************/
		GraphicsShaderResourceView*		m_SRV;
		/*!****************************************************************************************************************************************************************
		*******************************************************************************************************************************************************************/
		GraphicsRenderTargetView*		m_RTV;
	};
}
