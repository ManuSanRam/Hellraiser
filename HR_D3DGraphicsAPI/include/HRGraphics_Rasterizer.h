#pragma once

#include "HRGraphics_Prerequisites.h"

/*!******************************************************************************************************************************************************************************

	@file		HRGraphics_Rasterizer.h

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	This file contains the declaration of the Rasterizer object, used to present graphics as:
	- Wireframe, rendering only the edges that connect the vertices.
	- Solid, rendering the model as it would normally look.
	- Solid - wireframe, rendering the model in solid and wireframe

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	@date		29-07-2017
	@author		Manuel Santos Ramón [ManuSanRam]
	@copyright	Infernal Coders S.A

********************************************************************************************************************************************************************************/



namespace HR_SDK 
{
	struct GraphicsDevice;
	struct GraphicsDeviceContext;
	struct GraphicsRasterizerState;

	/*!**************************************************************************************************************************************************************************

		@class C_Rasterizer

		@brief Rasterizer object, used to set the new rendering state of the geometry pass

	****************************************************************************************************************************************************************************/
	class HR_D3DGRAPHICSAPI_EXPORT C_Rasterizer
	{
	public:
		/*!**********************************************************************************************************************************************************************

			@brief Constructor [Default]

		************************************************************************************************************************************************************************/
		C_Rasterizer
		(

		)
		{
			//! The pointer points to address 0 to prevent it carrying trash
			m_Rasterizer = NULL;
		}


		/*!**********************************************************************************************************************************************************************

			@brief Destructor

		************************************************************************************************************************************************************************/
		~C_Rasterizer
		(

		)
		{
			
		}


		/*!**********************************************************************************************************************************************************************

			@brief Creates a rasterizer state object

		-------------------------------------------------------------------------------------------------------------------------------------------------------------------------

			@param _fillMode Mode to render the geometry.
			The fill modes are:
			- SOLID: Renders geometry as planes in between the vertices.
			- WIREFRAME: Renders geometry as connections between the vertices, simply rendering as a net.

			@param _cullMode Mode to specify the faces that will be drawn on screen
			The culling modes are:
			- NONE: All triangles are drawn.
			- FRONT: Triangles facing front are not rendering.
			- BACK: Triangles facing back are not rendering.

			@param _device Device passing the rasterizer to GPU

		-------------------------------------------------------------------------------------------------------------------------------------------------------------------------

			@return True if rasterizer was successfully created, false if any errors occurred.

		************************************************************************************************************************************************************************/
		bool Create
		(
			D3D_FillModes::E _fillMode,
			D3D_CullModes::E _cullMode,
			GraphicsDevice* _device
		);


		/*!**********************************************************************************************************************************************************************

			@brief Closes and deallocates 

		************************************************************************************************************************************************************************/
		void Close
		(

		);


		/*!**********************************************************************************************************************************************************************

			@brief Sets a rasterizer state into the device context

		-------------------------------------------------------------------------------------------------------------------------------------------------------------------------

			@param _DC Device context pointing to the GPU, used to set the rasterizer to the pipeline.

		************************************************************************************************************************************************************************/
		void Set
		(
			GraphicsDeviceContext* _DC
		);


		/*!**********************************************************************************************************************************************************************

			@brief Rasterizer

		************************************************************************************************************************************************************************/
		GraphicsRasterizerState* m_Rasterizer;


	};
}
